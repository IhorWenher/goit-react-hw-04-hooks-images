{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","App.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","services/imagesApi.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchValue","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","Styles","this","SearchForm","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","LoaderSp","container","color","height","width","timeout","ImageGalleryItem","src","alt","onClick","image","imagesApi","fetchImages","pageNumber","url","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","fotos","status","prevProps","prevState","a","page","data","hits","catch","onAddFotos","window","scrollTo","top","document","documentElement","scrollHeight","behavior","enterContainer","Loader","message","map","photo","largeImageURL","id","onImageClick","defaultProps","prorTypes","PropTypes","string","isRequired","number","func","modalRoot","querySelector","Modal","srcLarge","altLarge","handleKeyDown","e","code","onModalClick","handleBackdropClick","target","addEventListener","removeEventListener","createPortal","Overlay","Button","onLoadMoreClick","Container","App","showModal","toggleModal","currentSrc","handleFormSubmit","loadMoreImages","toggleFotos","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.94dc7544.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"enterContainer\":\"ImageGallery_enterContainer__3qBhY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"Container\":\"Button_Container__1uAAt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__3LFDG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport Styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchValue: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ searchValue: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.searchValue.trim() === '') {\n      toast.error('Enter something!');\n      return;\n    }\n    this.props.onSubmit(this.state.searchValue);\n    this.setState({ searchValue: '' });\n  };\n\n  render() {\n    return (\n      <header className={Styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={Styles.SearchForm}>\n          <button type=\"submit\" className={Styles.button}>\n            <span className={Styles.label}>Search</span>\n          </button>\n\n          <input\n            className={Styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchValue}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Styles from './Loader.module.css';\n\nconst LoaderSp = () => {\n  return (\n    <div className={Styles.container}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={3000} //3 secs\n      />\n    </div>\n  );\n};\n\nexport default LoaderSp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ src, alt, onClick }) => {\n  return (\n    <li className={Styles.ImageGalleryItem}>\n      <img src={src} alt={alt} className={Styles.image} onClick={onClick} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.number.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","function fetchImages(searchValue, pageNumber) {\n  const perPage = 12;\n  const key = '21876535-6bbe37fb3a30d88be5a7a76ee';\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchValue}&page=${pageNumber}&per_page=${perPage}&key=${key}`;\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(\n      new Error(`Can not find images with name ${searchValue}`),\n    );\n  });\n}\n\nconst imagesApi = { fetchImages };\nexport default imagesApi;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport LoaderSp from '../Loader';\nimport Styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport imagesApi from '../../services/imagesApi';\n\nclass ImageGallery extends Component {\n  state = {\n    fotos: null,\n    error: null,\n    status: 'idle',\n  };\n\n  static defaultProps = { page: 1 };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const searchValue = this.props.searchValue;\n    const pageNumber = this.props.page;\n\n    if (prevProps.searchValue !== this.props.searchValue) {\n      this.setState({ status: 'pending' });\n\n      imagesApi\n        .fetchImages(searchValue, pageNumber)\n        .then(data => this.setState({ fotos: data.hits, status: 'resolved' }))\n        .catch(error => this.setState({ error, status: 'rejected' }));\n\n      this.props.onAddFotos();\n    }\n\n    if (\n      prevProps.searchValue === this.props.searchValue &&\n      this.props.page !== prevProps.page\n    ) {\n      this.setState({ status: 'pending' });\n\n      await imagesApi\n        .fetchImages(searchValue, pageNumber)\n        .then(data =>\n          this.setState({\n            fotos: [...prevState.fotos, ...data.hits],\n            status: 'resolved',\n          }),\n        )\n        .catch(error => this.setState({ error, status: 'rejected' }));\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n      this.props.onAddFotos();\n    }\n  }\n\n  render() {\n    const { error, fotos, status } = this.state;\n\n    if (status === 'idle') {\n      return (\n        <div className={Styles.enterContainer}>\n          <h2>Enter something</h2>\n        </div>\n      );\n    }\n\n    if (status === 'pending') {\n      return <LoaderSp />;\n    }\n\n    if (status === 'rejected') {\n      return <h2>{error.message}</h2>;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <ul className={Styles.ImageGallery}>\n          {fotos &&\n            fotos.map(photo => (\n              <ImageGalleryItem\n                key={photo.id}\n                src={photo.largeImageURL}\n                alt={photo.id}\n                onClick={this.props.onImageClick}\n              />\n            ))}\n        </ul>\n      );\n    }\n  }\n}\n\nImageGallery.prorTypes = {\n  searchValue: PropTypes.string.isRequired,\n  page: PropTypes.number,\n  onImageClick: PropTypes.func.isRequired,\n  onAddFotos: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport Styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  state = {\n    srcLarge: this.props.srcLarge,\n    altLarge: this.props.altLarge,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onModalClick(null);\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onModalClick(null);\n    }\n  };\n\n  render() {\n    const { srcLarge, altLarge } = this.state;\n\n    return createPortal(\n      <div className={Styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={Styles.Modal}>\n          <img src={srcLarge} alt={altLarge} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  srcLarge: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onModalClick: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Styles from './Button.module.css';\n\nconst Button = ({ onLoadMoreClick }) => {\n  return (\n    <div className={Styles.Container}>\n      <button type=\"button\" className={Styles.Button} onClick={onLoadMoreClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onLoadMoreClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport Button from './components/Button';\nimport Styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    searchValue: '',\n    page: 1,\n    showModal: false,\n    url: {\n      srcLarge: '',\n      altLarge: '',\n    },\n    fotos: false,\n  };\n\n  toggleModal = event => {\n    if (event !== null) {\n      this.setState({\n        url: {\n          srcLarge: event.target.currentSrc,\n          altLarge: event.target.alt,\n        },\n      });\n    }\n\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  handleFormSubmit = searchValue => {\n    this.setState({ searchValue });\n  };\n\n  loadMoreImages = () => {\n    this.setState({ page: this.state.page + 1 });\n    this.setState(prevState => ({ searchValue: prevState.searchValue }));\n  };\n\n  toggleFotos = () => {\n    this.setState({ fotos: true });\n  };\n\n  render() {\n    const { searchValue, page, showModal, url, fotos } = this.state;\n\n    return (\n      <div className={Styles.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ToastContainer />\n        <ImageGallery\n          searchValue={searchValue}\n          page={page}\n          onImageClick={this.toggleModal}\n          onAddFotos={this.toggleFotos}\n        />\n\n        {fotos && <Button onLoadMoreClick={this.loadMoreImages} />}\n\n        {showModal && (\n          <Modal\n            srcLarge={url.srcLarge}\n            altLarge={url.altLarge}\n            onModalClick={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"button\":\"Searchbar_button__MhnaU\",\"label\":\"Searchbar_label__1BV3w\",\"input\":\"Searchbar_input__2C4aO\"};"],"sourceRoot":""}